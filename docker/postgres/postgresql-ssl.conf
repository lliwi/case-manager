# PostgreSQL SSL/TLS Configuration for Case Manager
# This file enables encrypted connections to comply with security requirements

# Enable SSL
ssl = on

# SSL certificate paths (mounted from docker volumes)
ssl_cert_file = '/var/lib/postgresql/ssl/server.crt'
ssl_key_file = '/var/lib/postgresql/ssl/server.key'
ssl_ca_file = '/var/lib/postgresql/ssl/ca.crt'

# Minimum TLS version (TLS 1.2 or higher for security compliance)
ssl_min_protocol_version = 'TLSv1.2'

# Prefer server cipher order
ssl_prefer_server_ciphers = on

# Strong cipher suites only
ssl_ciphers = 'ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256'

# Logging for SSL connections (useful for auditing)
log_connections = on
log_disconnections = on
